# ===========================================
# InsightDesk Environment Configuration
# ===========================================
# For development: Copy .env.development to .env (pre-configured for Docker)
# For production: Copy this file to .env and configure all values

# ----- Server -----
NODE_ENV=development
SKIP_INTEGRATION_TESTS=true
PORT=3001
HOST=localhost
API_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000

# ----- Database (PostgreSQL) -----
DATABASE_URL=postgresql://insightdesk:your_password@localhost:5432/insightdesk

# ----- Valkey (Redis-compatible cache) -----
VALKEY_URL=redis://localhost:6379

# ----- Authentication (Better Auth) -----
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-super-secret-key-change-in-production
BETTER_AUTH_URL=http://localhost:3001

# Session settings
SESSION_MAX_AGE=604800
SESSION_UPDATE_AGE=86400

# ----- OAuth Providers (Optional) -----
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ----- Email (SMTP) -----
# For development with Mailpit: SMTP_HOST=localhost, SMTP_PORT=1025
# For production: Configure your SMTP server
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=InsightDesk <noreply@yourdomain.com>

# ----- File Storage (S3-compatible) -----
# For local dev, you can use MinIO. Provider: local, s3, or r2
STORAGE_PROVIDER=s3
STORAGE_S3_ENDPOINT=http://localhost:9000
STORAGE_S3_REGION=us-east-1
STORAGE_S3_BUCKET=insightdesk-uploads
STORAGE_S3_ACCESS_KEY=minioadmin
STORAGE_S3_SECRET_KEY=minioadmin

# ----- Logging -----
LOG_LEVEL=debug  # debug, info, warn, error

# ----- Rate Limiting -----
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX_REQUESTS=100
