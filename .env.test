# Test environment configuration
# Uses isolated test containers (docker-compose.test.yml)
# Ports: PostgreSQL (5433), Valkey (6380), MinIO (9002), Mailpit (1026/8026)
NODE_ENV=test
SKIP_INTEGRATION_TESTS=false
PORT=3099
HOST=localhost
API_URL=http://localhost:3099
FRONTEND_URL=http://localhost:3000

# Test database (separate container on port 5433)
DATABASE_URL=postgresql://insightdesk:insightdesk_test@localhost:5433/insightdesk_test

# Valkey for tests (separate container on port 6380)
VALKEY_URL=redis://localhost:6380

# Auth secret for testing (32+ chars)
BETTER_AUTH_SECRET=test-secret-key-for-testing-minimum-32-chars
BETTER_AUTH_URL=http://localhost:3099

# Session settings
SESSION_MAX_AGE=604800
SESSION_UPDATE_AGE=86400

# Email - use mailpit test container (port 1026)
SMTP_HOST=localhost
SMTP_PORT=1026
EMAIL_FROM=Test <test@example.com>

# Storage - MinIO test container (port 9002)
STORAGE_PROVIDER=s3
STORAGE_S3_ENDPOINT=http://localhost:9002
STORAGE_S3_BUCKET=insightdesk-test
STORAGE_S3_REGION=us-east-1
STORAGE_S3_ACCESS_KEY=minioadmin
STORAGE_S3_SECRET_KEY=minioadmin
STORAGE_S3_FORCE_PATH_STYLE=true

# Logging - silent during tests
LOG_LEVEL=silent

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

